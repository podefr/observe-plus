<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test Observe-plus</title>
    <script src="observe-plus.js"></script>
    <script>
        var obj, observe;

        window.addEventListener("load", function () {
            obj = JSON.parse('[' + new Array(1000).join(structure + ',') + ' 0 ]');

            observe = observePlus.observe(obj);

            observe.observeValue("1000.stuff.morestuff.0", function (event) {
                console.log(event);
            });

            obj.push(JSON.parse(structure));
        }, true);

        var structure = JSON.stringify({
            property: "super property",
            niceArray: [
                'item1',
                'item2',
                'item3'
            ],
            stuff: {
                morestuff: [
                    'stuff1',
                    'stuff2',
                    'stuff3'
                ],
                otherstuff: {
                    'stuff1': 'yes',
                    'stuff2': 'no',
                    'stuff3': 'maybe'
                }
            }
        });
    </script>
</head>
<body>

</body>
</html>